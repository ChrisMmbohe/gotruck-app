# Commit Log: Development Session

**Date**: 2026-01-25 06:51:22
**Branch**: main
**Commit Message**: feat: Role-based dashboard navigation, improved auth, and MongoDB connection

---

## Files Changed

### Staged Files
- DATA_INTEGRITY_SUMMARY.md
- PROFILE_MANAGEMENT_COMPLETE.md
- app/(root)/[locale]/(auth)/layout.tsx
- app/(root)/[locale]/(auth)/sign-in/[[...sign-in]]/page.tsx
- app/(root)/[locale]/(auth)/sign-up/[[...sign-up]]/page.tsx
- app/(root)/[locale]/dashboard/analytics/page.tsx
- app/(root)/[locale]/dashboard/fleet/page.tsx
- app/(root)/[locale]/dashboard/page.tsx
- app/(root)/[locale]/dashboard/settings/page.tsx
- app/(root)/[locale]/dashboard/settings/profile/page.tsx
- app/(root)/[locale]/dashboard/shipments/page.tsx
- app/(root)/[locale]/dashboard/tracking/page.tsx
- app/(root)/[locale]/onboarding/page-new-wizard.tsx
- app/(root)/[locale]/onboarding/page.tsx
- app/api/auth/signout/route.ts
- app/api/onboarding/complete/route.ts
- app/api/onboarding/role/route.ts
- app/api/profile/route.ts
- app/api/profile/upload-image/route.ts
- app/api/shipments/route.ts
- app/api/users/me/route.ts
- app/api/users/profile/route.ts
- app/api/users/profile/upload/route.ts
- app/globals.css
- app/layout.tsx
- app/sso-callback/page.tsx
- components/auth/AccessControl.tsx
- components/auth/AuthForm.tsx
- components/auth/DashboardPage.tsx
- components/auth/SessionTimeoutWarning.tsx
- components/auth/SocialProviders.tsx
- components/dashboard/app-navbar.tsx
- components/dashboard/dashboard-nav.tsx
- components/landing/header.tsx
- components/landing/hero.tsx
- components/onboarding/OnboardingWizard.tsx
- components/onboarding/steps/CompanyInfoStep.tsx
- components/onboarding/steps/CompleteStep.tsx
- components/onboarding/steps/DocumentsStep.tsx
- components/onboarding/steps/DriverInfoStep.tsx
- components/onboarding/steps/PreferencesStep.tsx
- components/onboarding/steps/ProfileInfoStep.tsx
- components/onboarding/steps/RoleSelectionStep.tsx
- components/onboarding/steps/WelcomeStep.tsx
- components/onboarding/steps/index.ts
- components/providers/currency-provider.tsx
- components/providers/preferences-provider.tsx
- components/settings/JoinedDate.tsx
- components/settings/ProfileCompletionTracker.tsx
- components/settings/ProfileForm.tsx
- components/ui/alert-dialog.tsx
- components/ui/avatar.tsx
- components/ui/label.tsx
- docs/ACCESS_CONTROL_COMPLETE.md
- docs/ACCESS_CONTROL_EXAMPLES.md
- docs/ACCESS_CONTROL_FIX_SUMMARY.md
- docs/ACCESS_CONTROL_GUIDE.md
- docs/ACCESS_CONTROL_INDEX.md
- docs/ACCESS_CONTROL_QUICK_REF.md
- docs/ACCESS_CONTROL_SUMMARY.md
- docs/ACCESS_CONTROL_TESTING.md
- docs/ACCESS_CONTROL_VISUAL.md
- docs/DATA_INTEGRITY_IMPLEMENTATION.md
- docs/MONGODB_SETUP_FIX.md
- docs/ONBOARDING_REDIRECT_FIX.md
- docs/ONBOARDING_STEPS_COMPLETE.md
- docs/PHASE1_COMPLETE.md
- docs/PHASE1_IMPLEMENTATION_SUMMARY.md
- docs/QUICK_START_PHASE1.md
- docs/QUICK_START_ROLE_SELECTION.md
- docs/README_PHASE1.md
- docs/ROLE_BASED_REDIRECTS.md
- docs/ROLE_SELECTION_IMPLEMENTATION.md
- docs/ROLE_SELECTION_VISUAL_GUIDE.md
- docs/USER_DATA_FIX.md
- lib/auth/access-control.ts
- lib/auth/api-protection.ts
- lib/auth/metadata.ts
- lib/auth/session.ts
- lib/db/models/User.ts
- lib/db/mongodb.ts
- lib/db/transactions.ts
- lib/email/send.ts
- lib/email/templates.ts
- lib/storage/cloudinary-upload.ts
- lib/storage/image-upload.ts
- lib/validation/QUICK_REFERENCE.ts
- lib/validation/database.ts
- lib/validation/errors.ts
- lib/validation/index.ts
- lib/validation/middleware.ts
- lib/validation/profile-schemas.ts
- lib/validation/sanitize.ts
- lib/validation/schemas.ts
- messages/en.json
- middleware.ts
- package-lock.json
- package.json
- public/images/1-rmvbg.png
- public/images/1-rmvbg2.png
- public/images/1.png
- public/images/2-rmvbg.png
- public/images/2-rmvbg2.png
- public/images/2.png
- public/images/favicon.png
- public/images/hero-trucks6.jpg
- public/images/hero-trucks7.jpg
- public/images/hero-trucks8.jpg
- public/images/logo.png
- scripts/test-mongodb-connection.ts
- types/user.ts

### Untracked Files
- None

### Deleted Files
- None

---

## Context

### What was accomplished
[Automatically generated - edit if needed]
feat: Role-based dashboard navigation, improved auth, and MongoDB connection

### Technical details
- **Files modified**: 111
- **New files**: 0
- **Deleted files**: 0

### Chat/Development Notes
[Add any relevant discussion points or decisions made during this session]

- 
- 

### Next Steps
[What should be done next]

- 
- 

---

## Git Information

```bash
# To view this commit later:
git show HEAD

# To view the diff:
git diff HEAD~1 HEAD
```

---

*Generated automatically by commit-with-log.ps1*
*Last updated: 2026-01-25 06:51:22*
